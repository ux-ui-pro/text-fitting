(()=>{"use strict";class e extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"});e.innerHTML='<div class="wrap"><div class="body" style="display: inline-block; white-space: nowrap;"><slot></slot></div></div>',this.wrap=e.querySelector(".wrap"),this.body=e.querySelector(".body"),this.update=this.update.bind(this),this.resizeObserver=new ResizeObserver(this.update),this.resizeObserver.observe(this.wrap),document.fonts.addEventListener("loadingdone",this.update)}connectedCallback(){this.update()}disconnectedCallback(){this.resizeObserver.unobserve(this.wrap),document.fonts.removeEventListener("loadingdone",this.update)}update(){cancelAnimationFrame(this.af),this.af=requestAnimationFrame((()=>{let e=parseInt(getComputedStyle(this.body).fontSize,10),t=Math.ceil(this.wrap.clientWidth/this.body.scrollWidth*e)+"px";this.body.style.fontSize=`${t}`}))}}customElements.get("text-fitting")||customElements.define("text-fitting",e),new e})();