{"mappings":"AAAe,uDAA0B;IACxC,aAAc;QACb,KAAK;QAEL,MAAM,aAAa,IAAI,CAAC,aAAa;YAAE,MAAM;QAAO;QAEpD,WAAW,YAAY,CAAC;;;;;;;;;;;;;;;EAexB,CAAC;QAED,IAAI,CAAC,OAAO,WAAW,cAAc;QACrC,IAAI,CAAC,OAAO,WAAW,cAAc;QACrC,IAAI,CAAC,SAAS,IAAI,CAAC,OAAO,KAAK,IAAI;QAEnC,IAAI,CAAC,iBAAiB,IAAI,eAAe,IAAI,CAAC;QAC9C,IAAI,CAAC,eAAe,QAAQ,IAAI,CAAC;IAClC;IAEA,SAAS;QACR,qBAAqB,IAAI,CAAC;QAE1B,IAAI,CAAC,KAAK,sBAAsB;YAC/B,MAAM,eAAe,SAAS,iBAAiB,IAAI,CAAC,MAAM,UAAU;YACpE,MAAM,eAAe,KAAK,MAAM,AAAC,IAAI,CAAC,KAAK,cAAc,IAAI,CAAC,KAAK,cAAe;YAElF,IAAI,CAAC,KAAK,MAAM,WAAW,CAAC,EAAE,aAAa,EAAE,CAAC;QAC/C;IACD;IAEA,oBAAoB;QACnB,IAAI,CAAC;IACN;IAEA,uBAAuB;QACtB,IAAI,CAAC,eAAe,UAAU,IAAI,CAAC;QACnC,IAAI,CAAC,KAAK;IACX;AACD;AAEA,eAAe,IAAI,mBAAmB,eAAe,OAAO,gBAAgB","sources":["src/index.js"],"sourcesContent":["export default class TextFitting extends HTMLElement {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\r\n\t\tconst shadowOpen = this.attachShadow({ mode: 'open' })\r\n\r\n\t\tshadowOpen.innerHTML = `\r\n\t\t\t<style>\r\n\t\t\t\t#wrap {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\t\t\t\t#body {\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t}\r\n\t\t\t</style>\r\n\t\t\t<div id=\"wrap\">\r\n\t\t\t\t<div id=\"body\">\r\n\t\t\t\t\t<slot></slot>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`\r\n\r\n\t\tthis.wrap = shadowOpen.querySelector('#wrap')\r\n\t\tthis.body = shadowOpen.querySelector('#body')\r\n\t\tthis.update = this.update.bind(this)\r\n\r\n\t\tthis.resizeObserver = new ResizeObserver(this.update)\r\n\t\tthis.resizeObserver.observe(this.wrap)\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tcancelAnimationFrame(this.af)\r\n\r\n\t\tthis.af = requestAnimationFrame(() => {\r\n\t\t\tconst bodyFontSize = parseInt(getComputedStyle(this.body).fontSize, 10)\r\n\t\t\tconst calcFontSize = Math.floor((this.wrap.clientWidth / this.body.scrollWidth) * bodyFontSize)\r\n\r\n\t\t\tthis.body.style.fontSize = `${calcFontSize}px`\r\n\t\t})\r\n\t}\r\n\r\n\tconnectedCallback() {\r\n\t\tthis.update()\r\n\t}\r\n\r\n\tdisconnectedCallback() {\r\n\t\tthis.resizeObserver.unobserve(this.wrap)\r\n\t\tthis.af = null\r\n\t}\r\n}\r\n\r\ncustomElements.get('text-fitting') || customElements.define('text-fitting', TextFitting)"],"names":[],"version":3,"file":"index.module.js.map"}